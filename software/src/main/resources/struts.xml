<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <package name="default" extends="struts-default">
        <interceptors>
            <interceptor name="protExpressParams"
                class="gov.nih.nci.protexpress.ui.interceptors.DisplayTagParametersInterceptor" />

            <interceptor-stack name="protExpressParamsPrepareParamsStack">
                <interceptor-ref name="exception" />
                <interceptor-ref name="alias" />
                <interceptor-ref name="protExpressParams" />
                <interceptor-ref name="servletConfig" />
                <interceptor-ref name="prepare" />
                <interceptor-ref name="i18n" />
                <interceptor-ref name="chain" />
                <interceptor-ref name="modelDriven" />
                <interceptor-ref name="fileUpload" />
                <interceptor-ref name="checkbox" />
                <interceptor-ref name="staticParams" />
                <interceptor-ref name="protExpressParams" />
                <interceptor-ref name="conversionError" />
                <interceptor-ref name="validation">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
                <interceptor-ref name="workflow">
                    <param name="excludeMethods">input,back,cancel</param>
                </interceptor-ref>
            </interceptor-stack>

            <interceptor-stack name="protExpressDefaultStack">
                <interceptor-ref name="exception" />
                <interceptor-ref name="alias" />
                <interceptor-ref name="servletConfig" />
                <interceptor-ref name="prepare" />
                <interceptor-ref name="i18n" />
                <interceptor-ref name="chain" />
                <interceptor-ref name="debugging" />
                <interceptor-ref name="profiling" />
                <interceptor-ref name="scopedModelDriven" />
                <interceptor-ref name="modelDriven" />
                <interceptor-ref name="fileUpload" />
                <interceptor-ref name="checkbox" />
                <interceptor-ref name="staticParams" />
                <interceptor-ref name="protExpressParams">
                    <param name="excludeParams">dojo\..*</param>
                </interceptor-ref>
                <interceptor-ref name="conversionError" />
                <interceptor-ref name="validation">
                    <param name="excludeMethods">input,back,cancel,browse</param>
                </interceptor-ref>
                <interceptor-ref name="workflow">
                    <param name="excludeMethods">input,back,cancel,browse</param>
                </interceptor-ref>
            </interceptor-stack>
        </interceptors>

        <default-interceptor-ref name="protExpressDefaultStack" />

        <!-- Registration Actions -->
        <action name="registration/*"
            class="gov.nih.nci.protexpress.ui.actions.registration.RegistrationAction" method="{1}">
            <result name="success">/WEB-INF/jsp/registration/success.jsp</result>
            <result name="input">/WEB-INF/jsp/registration/registration.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End Registration -->

        <!-- Dashboard Actions -->
        <action name="dashboard/dashboard" class="gov.nih.nci.protexpress.ui.actions.dashboard.DashboardAction" method="load">
            <result name="success">/WEB-INF/jsp/dashboard/dashboard.jsp</result>
        </action>
        <!-- End Dashboard -->

        <!-- Protocol Actions -->
        <action name="protocol/search/*" class="gov.nih.nci.protexpress.ui.actions.protocol.ProtocolSearchAction"
            method="{1}">
            <result name="success">/WEB-INF/jsp/protocol/protocolSearch.jsp</result>
            <result name="input">/WEB-INF/jsp/protocol/protocolSearch.jsp</result>
        </action>

        <action name="ajax/protocol/search/*" class="gov.nih.nci.protexpress.ui.actions.protocol.ProtocolSearchAction"
            method="{1}">
            <result name="success">/WEB-INF/jsp/protocol/protocolSearchResults.jsp</result>
            <result name="input">/WEB-INF/jsp/protocol/protocolSearchResults.jsp</result>
        </action>

        <action name="protocol/management/*"
            class="gov.nih.nci.protexpress.ui.actions.protocol.ProtocolManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocol/protocolForm.jsp</result>
            <result name="success">/WEB-INF/jsp/protocol/protocolForm.jsp</result>
            <result name="dashboard" type="chain">dashboard/dashboard</result>
            <result name="search">/WEB-INF/jsp/protocol/protocolSearch.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/protocol/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.protocol.ProtocolManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocol/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/protocol/{2}.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End Protocol -->


        <!-- Experiment Actions -->
        <action name="experiment/search/*" class="gov.nih.nci.protexpress.ui.actions.experiment.ExperimentSearchAction"
            method="{1}">
            <result name="success">/WEB-INF/jsp/experiment/experimentSearch.jsp</result>
            <result name="input">/WEB-INF/jsp/experiment/experimentSearch.jsp</result>
        </action>

        <action name="ajax/experiment/search/*" class="gov.nih.nci.protexpress.ui.actions.experiment.ExperimentSearchAction"
            method="{1}">
            <result name="success">/WEB-INF/jsp/experiment/experimentSearchResults.jsp</result>
            <result name="input">/WEB-INF/jsp/experiment/experimentSearchResults.jsp</result>
        </action>

        <action name="experiment/management/*"
            class="gov.nih.nci.protexpress.ui.actions.experiment.ExperimentManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/experiment/experimentForm.jsp</result>
            <result name="success">/WEB-INF/jsp/experiment/experimentForm.jsp</result>
            <result name="dashboard" type="chain">dashboard/dashboard</result>
            <result name="search">/WEB-INF/jsp/experiment/experimentSearch.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/experiment/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.experiment.ExperimentManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/experiment/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/experiment/{2}.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="experiment/export" method="export" class="gov.nih.nci.protexpress.ui.actions.experiment.ExperimentExportAction">
            <result name="success" type="stream">
                <param name="contentType">text/xml</param>
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">filename="experiment.xml"</param>
                <param name="bufferSize">4096</param>
            </result>
            <result name="input" type="chain">experiment/management/load</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End Experiment -->

        <!-- Experiment Run Actions -->
        <action name="experimentRun/management/*"
            class="gov.nih.nci.protexpress.ui.actions.experimentrun.ExperimentRunManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/experimentRun/experimentRunForm.jsp</result>
            <result name="success">/WEB-INF/jsp/experimentRun/experimentRunForm.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/experimentRun/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.experimentrun.ExperimentRunManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/experimentRun/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/experimentRun/{2}.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/experimentRun/management/delete"
            class="gov.nih.nci.protexpress.ui.actions.experimentrun.ExperimentRunManagementAction" method="delete">
            <result name="success" type="chain">ajax/experiment/management/load/experimentRuns</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End Experiment Runs -->

        <!-- Protocol Application Actions -->
        <action name="protocolApplication/management/*"
            class="gov.nih.nci.protexpress.ui.actions.protocolapplication.ProtocolApplicationManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocolApplication/protocolApplicationForm.jsp</result>
            <result name="success">/WEB-INF/jsp/protocolApplication/protocolApplicationForm.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/protocolApplication/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.protocolapplication.ProtocolApplicationManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocolApplication/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/protocolApplication/{2}.jsp</result>
            <result name="xmlProtocolList" type="stream">
                <param name="contentType">text/xml;charset=UTF-8</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">4096</param>
            </result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/protocolApplication/management/delete"
            class="gov.nih.nci.protexpress.ui.actions.protocolapplication.ProtocolApplicationManagementAction" method="delete">
            <result name="success" type="chain">ajax/experimentRun/management/load/protocolApplications</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End Protocol Applications -->

        <!-- ProtocolAction Actions -->
        <action name="protocolAction/management/*"
            class="gov.nih.nci.protexpress.ui.actions.protocolaction.ProtocolActionManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocolAction/protocolActionForm.jsp</result>
            <result name="success">/WEB-INF/jsp/protocolAction/protocolActionForm.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/protocolAction/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.protocolaction.ProtocolActionManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/protocolAction/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/protocolAction/{2}.jsp</result>
            <result name="xmlProtocolList" type="stream">
                <param name="contentType">text/xml;charset=UTF-8</param>
                <param name="inputName">inputStream</param>
                <param name="bufferSize">4096</param>
            </result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/protocolAction/management/delete"
            class="gov.nih.nci.protexpress.ui.actions.protocolaction.ProtocolActionManagementAction" method="delete">
            <result name="success" type="chain">ajax/experiment/management/load/protocolActions</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End ProtocolAction Actions -->

        <!-- MaterialObject Actions -->
        <action name="materialObject/management/*"
            class="gov.nih.nci.protexpress.ui.actions.materialobject.MaterialObjectManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/materialObject/materialObjectForm.jsp</result>
            <result name="success">/WEB-INF/jsp/materialObject/materialObjectForm.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/materialObject/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.materialobject.MaterialObjectManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/materialObject/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/materialObject/{2}.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/materialObject/management/delete"
            class="gov.nih.nci.protexpress.ui.actions.materialobject.MaterialObjectManagementAction" method="delete">
            <result name="success" type="chain">ajax/experiment/management/load/materialObjects</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End MaterialObject Actions -->

        <!-- DataObject Actions -->
        <action name="dataObject/management/*"
            class="gov.nih.nci.protexpress.ui.actions.dataobject.DataObjectManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/dataObject/dataObjectForm.jsp</result>
            <result name="success">/WEB-INF/jsp/dataObject/dataObjectForm.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/dataObject/management/*/*"
            class="gov.nih.nci.protexpress.ui.actions.dataobject.DataObjectManagementAction" method="{1}">
            <result name="input">/WEB-INF/jsp/dataObject/{2}.jsp</result>
            <result name="success">/WEB-INF/jsp/dataObject/{2}.jsp</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>

        <action name="ajax/dataObject/management/delete"
            class="gov.nih.nci.protexpress.ui.actions.dataobject.DataObjectManagementAction" method="delete">
            <result name="success" type="chain">ajax/experiment/management/load/dataObjects</result>
            <interceptor-ref name="protExpressParamsPrepareParamsStack" />
        </action>
        <!-- End DataObject Actions -->
    </package>
</struts>